{"version":3,"sources":["components/header/index.js","components/header/header.js","components/currency-list/currency-list.js","actions/index.js","components/pages/homepage.js","components/pages/current-curency.js","components/user-currency/user-currency.js","components/user-currency/index.js","components/currency-service-context/currency-service-context.js","hoc/index.js","hoc/withCurrencyService.js","utils.js/utils.js","utils.js/index.js","app.js","reducers/calcilateMoney.js","reducers/currentCurrencies.js","reducers/index.js","store.js","services/currency-service.js","services/index.js","error-boundry/error-boundry.js","error-boundry/index.js","index.js"],"names":["Header","className","to","CurrencyList","sumTotalUsd","state","calculations","exchangeCurrency_1","userCurrency","exchangeCurrency_2","userSumInputMoney_2","userSumInputMoney_1","errorUserWrongInput","Form","Group","Label","Control","onChange","event","item","target","value","id","type","placeholder","CurrencyListContainer","this","props","Component","connect","dispatch","payload","sumTotal","HomePage","exchangeCurrency_1_value","exchangeCurrency_2_value","currentCurrencies","default_exchangeCurrency_1_value","default_exchangeCurrency_2_value","UserCurrency","userChangeCurrency","hideDefaultCurrencies","Select","UserCurrencyContainer","action","changeCurrency","React","createContext","CurrencyServiceProvider","Provider","CurrencyServiceConsumer","Consumer","withCurrencyService","Wrapped","currencyService","compose","funcs","comp","reduceRight","wrapped","f","App","fetchCurrencies","path","element","ownProps","getCurrencies","then","data","catch","calculateCurrencies","undefined","total","usdToRub","usdToEuro","euroToRub","euroToUsd","rubToEuro","rubToUsd","calculateOfUserCurrency","a","b","c","d","test","onCalculateOfUserCurrency","toFixed","console","log","withCalculateOfUserCurrency","calculateUserInputMoney","currency","currentParams","onChangeCurrency","updateCurrentCurrencies","ololo","reducer","store","createStore","applyMiddleware","thunkMiddleware","next","getState","setTimeout","CurrencyService","apiBase","getCurrency","res","Valute","USD","Value","EUR","valutes","fetch","ok","Error","status","json","ErrorBoundry","hasError","setState","children","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6a6883d6.chunk.js","sourcesContent":["import Header from \"./header\";\r\n\r\nexport default Header","import { React } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./header.css\";\r\nconst Header = () => {    \r\n    return (\r\n        <header className=\"header\">  \r\n            <h3 className=\"header__h3\">                     \r\n                <Link className=\"header__a\" to=\"/\">Конвертер валют</Link>                \r\n            </h3>\r\n            <div className=\"header__container\">\r\n                <Link  className=\"header__a\" to=\"/\">Главная</Link>\r\n                <Link  className=\"header__a\" to=\"/current-exchange-rate/\">Курс валют</Link>    \r\n            </div>                 \r\n        </header>\r\n        \r\n    )\r\n    \r\n}\r\n\r\n\r\nexport default Header\r\n\r\n","import {React, Component} from \"react\";\r\nimport { Form} from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport './currency-list.css';\r\nimport { sumTotal} from \"../../actions\";\r\n\r\n\r\n\r\nconst CurrencyList = ( {sumTotalUsd, state }) => {       \r\n    const {exchangeCurrency_1, userCurrency, exchangeCurrency_2, \r\n        userSumInputMoney_2, userSumInputMoney_1, \r\n        errorUserWrongInput } = state.calculations\r\n    const insertTotal = (event) => {       \r\n        const item =event.target.value;\r\n        \r\n        return sumTotalUsd(item)\r\n    }\r\n\r\n    return (     \r\n        <div className=\"currency-list\">\r\n            <div className=\"form\" >\r\n                <Form.Group className=\"currency-list-margin\">\r\n                    <Form.Label>Количество</Form.Label>                   \r\n                    <Form.Control\r\n                    onChange={insertTotal} id=\"only_num\" type=\"number\" placeholder=\"Введите количество\" />\r\n                   \r\n                </Form.Group>\r\n            <p className=\"currency-list__error\">{errorUserWrongInput}</p>\r\n            <p className=\"result-block\">{userCurrency} in {exchangeCurrency_1}:</p>\r\n            <p className=\"result-field\">{userSumInputMoney_1}</p>                \r\n            </div>\r\n            <p className=\"result-block\">{userCurrency} in {exchangeCurrency_2}:</p>\r\n            <p className=\"result-field\">{userSumInputMoney_2}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nclass CurrencyListContainer extends Component {      \r\n    \r\n    render () {   \r\n     \r\n        const {sumTotalUsd, state} = this.props\r\n        return (                \r\n                <CurrencyList sumTotalUsd={sumTotalUsd} state={state}/>           \r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ( state) => {\r\n    \r\n    return {state}\r\n} \r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sumTotalUsd: (item) => dispatch(sumTotal(item)),\r\n        \r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CurrencyListContainer)","const currenciesRequested = () => {\r\n    return {\r\n        type: 'CURRENCIES_REQUESTED'\r\n    }\r\n}\r\n\r\nconst currenciesLoaded = (item) => {\r\n    return {\r\n        type: 'CURRENCIES_LOADED',\r\n        payload: item\r\n    }\r\n}\r\n\r\nconst currenciesHideDefaultCurrencies = () => {\r\n    return {\r\n        type: 'HIDE_DEFAULT_CURRENCIES'\r\n    }\r\n}\r\nconst sumTotal = (item) => {\r\n    return {\r\n        type: 'SUM_TOTAL',\r\n        payload: item\r\n    }\r\n}\r\n\r\nconst changeCurrency = (item) => {\r\n    return {\r\n        type: 'CHANGE_CURRENCY',\r\n        payload: item\r\n    }\r\n}\r\n\r\nconst updateCurrency = (item) => {\r\n   \r\n    return {\r\n        type: 'UPDATE_CURRENCY',\r\n        payload: item\r\n    }\r\n}\r\n\r\nconst fetchCurrencies = (currencyService) => () => (dispatch) => {  \r\n    dispatch(currenciesRequested());\r\n    currencyService.getCurrencies()\r\n    .then((data) => dispatch(currenciesLoaded(data)))\r\n    .catch();\r\n    \r\n}\r\n\r\nexport {sumTotal, changeCurrency, updateCurrency, currenciesHideDefaultCurrencies, fetchCurrencies, currenciesLoaded}","import {React, Fragment } from \"react\";\r\nimport CurrencyListContainer from \"../currency-list/currency-list\";\r\n\r\nconst HomePage = () => {\r\n    \r\n    return (\r\n        <Fragment>\r\n            <CurrencyListContainer />\r\n        </Fragment>  \r\n    )\r\n    \r\n}\r\nexport default HomePage","import {React, Fragment } from \"react\";\r\nimport \"./pages.css\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst CurrentCurrencies = ({state}) => {\r\n        const { exchangeCurrency_1, exchangeCurrency_2,\r\n             exchangeCurrency_1_value, exchangeCurrency_2_value} = state.calculations\r\n        const {default_exchangeCurrency_1_value, \r\n            default_exchangeCurrency_2_value} = state.currentCurrencies\r\n    return (\r\n        <Fragment >\r\n            <h3 className=\"pages pages__h3\">Актуальный курс валют:</h3>\r\n            <div className=\"pages__currency-window\">\r\n                <p className=\"pages__currency-window_p\">{exchangeCurrency_1}:</p>\r\n                <p className=\"pages__currency-window_p\">{default_exchangeCurrency_1_value}{exchangeCurrency_1_value}</p>                \r\n            </div>\r\n            <div className=\"pages__currency-window\">\r\n                <p className=\"pages__currency-window_p\">{exchangeCurrency_2}:</p>\r\n                <p className=\"pages__currency-window_p\">{default_exchangeCurrency_2_value}{exchangeCurrency_2_value}</p>\r\n            </div>\r\n        </Fragment>  \r\n    )   \r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n       return {state}          \r\n}\r\n\r\nexport default connect(mapStateToProps)(CurrentCurrencies)","import {React, Component} from \"react\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport { changeCurrency, currenciesHideDefaultCurrencies} from \"../../actions\";\r\n\r\n\r\n\r\n const UserCurrency = ({userChangeCurrency, hideDefaultCurrencies}) => {  \r\n     const hideDefaultCurrency =() => {\r\n         return hideDefaultCurrencies()\r\n     }   \r\n    const onUserChangeCurrency = (event) => {\r\n        const item = event.target.value;  \r\n        hideDefaultCurrency()      \r\n        return userChangeCurrency(item)\r\n    }\r\n        return (\r\n          <div className=\"currency-list currency-list-user\">\r\n            <p className=\"currency-list-_p\" >Ваша валюта:</p>\r\n            <Form.Select\r\n            onChange = {onUserChangeCurrency} aria-label=\"Default select example\">\r\n              \r\n                <option value=\"USD\">USD</option>\r\n                <option value=\"EURO\">EURO</option>\r\n                <option value=\"RUB\">RUB</option>\r\n            </Form.Select>\r\n          </div>\r\n        )\r\n   }\r\n\r\n\r\nexport class UserCurrencyContainer extends Component  {\r\n    render () {\r\n        const {userChangeCurrency, hideDefaultCurrencies} = this.props\r\n        return (\r\n        <UserCurrency userChangeCurrency={userChangeCurrency} hideDefaultCurrencies={hideDefaultCurrencies}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({userChangeCurrency}) => {\r\n    return {userChangeCurrency}\r\n} \r\n\r\nconst mapDispatchToProps = (dispatch, action) => {\r\n    return {       \r\n        userChangeCurrency: (item) => dispatch(changeCurrency(item)),\r\n        hideDefaultCurrencies: () => dispatch(currenciesHideDefaultCurrencies())\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserCurrencyContainer)\r\n","import UserCurrencyContainer from \"./user-currency\";\r\n\r\nexport default UserCurrencyContainer","import React from \"react\";\r\n\r\nconst {\r\n    Provider: CurrencyServiceProvider,\r\n    Consumer: CurrencyServiceConsumer\r\n} = React.createContext()\r\n\r\nexport {\r\n    CurrencyServiceProvider,\r\n    CurrencyServiceConsumer\r\n}","import withCurrencyService from \"./withCurrencyService\";\r\nexport default withCurrencyService","import React from \"react\";\r\nimport { CurrencyServiceConsumer } from \"../components/currency-service-context\";\r\n\r\nconst withCurrencyService = () => (Wrapped) => {\r\n    return (props) => {\r\n        return (\r\n            <CurrencyServiceConsumer>\r\n                {\r\n                    (currencyService) => {\r\n                        return (<Wrapped {...props}\r\n                            currencyService={currencyService} />)\r\n                    }\r\n                }\r\n            </CurrencyServiceConsumer>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withCurrencyService","const compose = (...funcs) => (comp) => {\r\n    return funcs.reduceRight(\r\n        (wrapped, f) => f(wrapped), comp);\r\n    };\r\n\r\n    export default compose","import compose from \"./utils\";\r\n\r\nexport default compose","import {React, Component} from \"react\";\r\nimport Header from \"./components/header\";\r\nimport {HomePage, CurrentCurrencies} from \"./components/pages\";\r\nimport UserCurrencyContainer from \"./components/user-currency\"\r\nimport { Routes, Route } from \"react-router\";\r\nimport withCurrencyService from \"./hoc\";\r\nimport { connect } from \"react-redux\";\r\nimport compose from \"./utils.js\";\r\nimport { fetchCurrencies } from \"./actions\";\r\nimport { BrowserRouter as Router} from \"react-router-dom\";\r\n\r\nexport class App  extends Component {\r\n  componentDidMount() {\r\n    this.props.fetchCurrencies()\r\n  }\r\n  render () {\r\n    return (\r\n      <div className=\"App\">  \r\n        <Router>      \r\n          <Header />\r\n          <UserCurrencyContainer />\r\n          <Routes>\r\n            <Route path=\"/spa-app-currency-conversion/\" element={<HomePage />} />\r\n            <Route path=\"/*\" element={<HomePage />} />\r\n            <Route path=\"/current-exchange-rate/\" element={<CurrentCurrencies />} />  \r\n          </Routes>\r\n          </Router>\r\n      </div>\r\n    );\r\n  \r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return state\r\n}\r\n\r\nconst mapDispatchToProps =(dispatch, ownProps) => {\r\n    const {currencyService} = ownProps\r\n    return {\r\n      fetchCurrencies: () => dispatch(fetchCurrencies(currencyService)())\r\n    }\r\n}\r\nexport default compose( \r\n  withCurrencyService(),\r\nconnect(mapStateToProps, mapDispatchToProps))(App)\r\n","const calculateUserInputMoney = (state, action) => {\r\n    const { usdToRub, usdToEuro, euroToRub,\r\n         euroToUsd, rubToEuro, rubToUsd} = state.currentCurrencies;\r\n    const {userCurrency} = state.calculations\r\n    const calculateOfUserCurrency = (a,b,c,d) => {\r\n        return {\r\n            userSumInputMoney_1: a,\r\n            userSumInputMoney_2: b,\r\n            total: c,\r\n            errorUserWrongInput: d\r\n        }\r\n    }\r\n    // validation user inputs\r\n    if (/^([0-9]+)([.,]?)([0-9]*)$/.test(action.payload) & (action.payload >=0)) {\r\n      \r\n        const withCalculateOfUserCurrency = (userCurrency)  => { \r\n            if (userCurrency === \"USD\")    {\r\n                const onCalculateOfUserCurrency = calculateOfUserCurrency((action.payload*usdToEuro).toFixed(4), (action.payload*usdToRub).toFixed(4),\r\n                action.payload, ' ')\r\n                return {onCalculateOfUserCurrency} \r\n            }\r\n            else if (userCurrency === \"EURO\") {\r\n                console.log(action.payload, euroToUsd)\r\n                const onCalculateOfUserCurrency = calculateOfUserCurrency((action.payload*euroToUsd).toFixed(4),\r\n                (action.payload*euroToRub).toFixed(4),\r\n                action.payload, ' ')\r\n                return { onCalculateOfUserCurrency}\r\n            }   \r\n            else {\r\n                const onCalculateOfUserCurrency = calculateOfUserCurrency((action.payload*rubToUsd).toFixed(4),\r\n                (action.payload*rubToEuro).toFixed(4),\r\n                action.payload, ' ')\r\n                return {onCalculateOfUserCurrency} \r\n            }  \r\n        }\r\n        return {\r\n            ...state.calculations,\r\n            ...withCalculateOfUserCurrency(userCurrency).onCalculateOfUserCurrency\r\n        }\r\n    } else {\r\n        return {\r\n            ...state.calculations,\r\n            userSumInputMoney_1: 0,\r\n            userSumInputMoney_2: 0,\r\n            total: 0,\r\n            errorUserWrongInput: 'Введите положительное число'\r\n            } \r\n        }\r\n}\r\n\r\nconst onChangeCurrency = (state, currency) => {                         \r\n    const  {rubToUsd,euroToRub, usdToEuro, euroToUsd,\r\n        usdToRub,  rubToEuro} = state.currentCurrencies;\r\n        \r\n    const {total} = state.calculations\r\n        // update exchange rates\r\n    const changeCurrency = (exchangeCurrency_1, exchangeCurrency_2,\r\n        exchangeCurrency_1_value,exchangeCurrency_2_value,userSumInputMoney_1,userSumInputMoney_2 ) => {\r\n             return {exchangeCurrency_1, exchangeCurrency_2, exchangeCurrency_1_value,\r\n                exchangeCurrency_2_value,userSumInputMoney_1,  userSumInputMoney_2}\r\n         }\r\n\r\n    const chooseChangeCurrency = () => {\r\n        if (currency.payload === \"USD\") {\r\n            const currentParams =  changeCurrency('EURO', \"RUB\", usdToEuro, usdToRub,\r\n            (total*usdToEuro).toFixed(4),\r\n            (total*usdToRub).toFixed(4)) \r\n            return {currentParams}\r\n        } \r\n        else if (currency.payload === \"EURO\") {\r\n            const currentParams =  changeCurrency('USD', \"RUB\", euroToUsd, euroToRub,\r\n            (total*euroToUsd).toFixed(4),\r\n            (total*euroToRub).toFixed(4))\r\n            return {currentParams}\r\n        }\r\n        else {\r\n            const currentParams =  changeCurrency('USD', \"EUR\", rubToUsd, rubToEuro,\r\n            (total*rubToUsd).toFixed(4),\r\n            (total*rubToEuro).toFixed(4))\r\n            return {currentParams}\r\n            \r\n        }\r\n    }  \r\n    return {\r\n        ...state.calculations,\r\n        userCurrency: currency.payload,\r\n        ...chooseChangeCurrency().currentParams\r\n    }\r\n}\r\n\r\nconst calculateCurrencies = (state, action ) => {\r\n    \r\n    if (state === undefined) {\r\n        return {\r\n            userSumInputMoney_1: '0',\r\n            userSumInputMoney_2: '0',\r\n            total: '0',\r\n            errorUserWrongInput: ' ',\r\n            userCurrency: 'USD',\r\n            exchangeCurrency_1: \"EURO\",\r\n            exchangeCurrency_2: 'RUB',\r\n            exchangeCurrency_1_value: '',\r\n            exchangeCurrency_2_value: '',\r\n            usdToRub:'70',\r\n    }\r\n}\r\n\r\n    switch (action.type) {\r\n        // user input money and calc it on current exchange rate\r\n        case 'SUM_TOTAL':                   \r\n            return calculateUserInputMoney(state, action)\r\n            // user change default currency\r\n                               \r\n        // current currency exchange rates loading firstly or update\r\n        case 'UPDATE_CURRENCY':\r\n            return {\r\n                ...state.currentCurrencies,\r\n                ...action.payload,            \r\n                exchangeCurrency_1_value: action.payload.usdToEuro,\r\n                exchangeCurrency_2_value: action.payload.usdToRub                            \r\n            }\r\n        case 'CHANGE_CURRENCY':           \r\n            return onChangeCurrency(state, action)\r\n\r\n        default: return state.calculations\r\n    }\r\n\r\n}\r\n\r\nexport default calculateCurrencies","const updateCurrentCurrencies = (state , action) => {    \r\n    if (state === undefined) {\r\n        return {                                \r\n                \r\n                usdToEuro:'0',\r\n                euroToRub:'70',\r\n                euroToUsd:'0',\r\n                rubToEuro:'70',\r\n                rubToUsd:'0',  \r\n                ololo:''\r\n            }               \r\n        }\r\n    \r\n\r\n    switch (action.type) {     \r\n \r\n        // spinner while current currency exchange rates loading\r\n        case 'CURRENCIES_REQUESTED':\r\n            return {\r\n                ...state.currentCurrencies,\r\n                default_exchangeCurrency_1_value: 'Загрузка',\r\n                default_exchangeCurrency_2_value: 'Загрузка'\r\n            }\r\n        case 'CURRENCIES_LOADED':\r\n            return {\r\n                ...state.currentCurrencies,\r\n                ...action.payload,\r\n                default_exchangeCurrency_1_value: action.payload.usdToEuro,\r\n                default_exchangeCurrency_2_value: action.payload.usdToRub\r\n            }\r\n        case 'HIDE_DEFAULT_CURRENCIES':\r\n            \r\n            return {\r\n                ...state.currentCurrencies,\r\n                default_exchangeCurrency_1_value: action.payload,\r\n                default_exchangeCurrency_2_value: action.payload\r\n            }\r\n        default: return state.currentCurrencies\r\n    }\r\n}\r\n\r\n\r\nexport default updateCurrentCurrencies","import calculateCurrencies from \"./calcilateMoney\";\r\nimport updateCurrentCurrencies from \"./currentCurrencies\"\r\n\r\n\r\nconst reducer = (state, action) => {\r\n    return {\r\n        currentCurrencies: updateCurrentCurrencies(state , action),\r\n        calculations: calculateCurrencies(state, action)\r\n    }\r\n}\r\nexport default reducer;\r\n","import reducer from \"./reducers\";\r\nimport {createStore, applyMiddleware} from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\n\r\nconst logMiddleware = ({ getState } ) => (next) => (action) => {\r\n \r\n    return next(action);\r\n} \r\n\r\nconst stringMiddleware = () => (next) => (action) => {\r\n    if (typeof action === 'string') {\r\n        return next({\r\n            type: action\r\n        });\r\n    }\r\n    return next(action);\r\n}\r\n\r\nconst store = createStore(reducer, applyMiddleware( thunkMiddleware, stringMiddleware, logMiddleware));\r\n\r\nconst delayedActionCreator = (timeout) => (dispatch) => {\r\n    setTimeout(() => dispatch({\r\n        type: 'DELATED_ACTION'\r\n    }), 2000);\r\n}\r\nstore.dispatch(delayedActionCreator(3000));\r\n\r\nexport default store","export default class CurrencyService {\r\n    apiBase = 'https://www.cbr-xml-daily.ru/daily_json.js'\r\n\r\n    async getCurrency() {\r\n\r\n      const res = await fetch(this.apiBase);\r\n          \r\n      if (!res.ok) {\r\n          // eslint-disable-next-line no-useless-concat\r\n          throw new Error (`Could not fetch ${this.apiBase}` + ` , received ${res.status}`)\r\n        }return res.json()\r\n\r\n    }\r\n\r\n    getCurrencies = async () => {\r\n        const res = await this.getCurrency()\r\n        const usdToRub= res.Valute.USD.Value.toFixed(4);\r\n        const euroToRub = res.Valute.EUR.Value.toFixed(4);\r\n        const valutes = {\r\n          usdToRub: usdToRub,\r\n          euroToRub: euroToRub,\r\n          usdToEuro: (usdToRub/euroToRub).toFixed(4),\r\n          euroToUsd: (euroToRub/usdToRub).toFixed(4),\r\n          rubToEuro: (1/euroToRub).toFixed(4),\r\n          rubToUsd: (1/usdToRub).toFixed(4)          \r\n        }\r\n        return valutes\r\n      }\r\n\r\n \r\n}","import CurrencyService from \"./currency-service\";\r\n\r\nexport default CurrencyService","import React, { Component } from \"react\";\r\n\r\nexport default class ErrorBoundry extends Component {\r\n\r\n    state ={\r\n        hasError: false\r\n    }\r\n\r\n    componentDidCatch() {\r\n        this.setState({\r\n            hasError: true\r\n        })\r\n    }\r\n\r\n    render () {\r\n        const error = this.state.hasError;\r\n\r\n        if (error) {\r\n            return <h2>Error</h2>;\r\n        }\r\n\r\n        return this.props.children;\r\n    \r\n    }\r\n}\r\n\r\n","import ErrorBoundry from \"./error-boundry\"\r\nexport default ErrorBoundry","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './app';\r\nimport { Provider } from \"react-redux\";\r\n\r\nimport store from './store';\r\nimport CurrencyService from './services';\r\nimport { CurrencyServiceProvider } from './components/currency-service-context';\r\nimport ErrorBoundry from './error-boundry';\r\n\r\nconst currencyService = new CurrencyService();\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <ErrorBoundry>\r\n      <CurrencyServiceProvider value={currencyService}>\r\n          <App />\r\n      </CurrencyServiceProvider>\r\n    </ErrorBoundry>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}