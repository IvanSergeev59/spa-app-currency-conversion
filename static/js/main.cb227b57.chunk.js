(this["webpackJsonpspa-app-currency-conversion"]=this["webpackJsonpspa-app-currency-conversion"]||[]).push([[0],{34:function(e,r,n){},41:function(e,r,n){},42:function(e,r,n){},44:function(e,r,n){"use strict";n.r(r);var t=n(0),c=n(16),s=n.n(c),u=n(8),a=n(9),i=n(13),o=n(12),l=(n(34),n(1)),j=function(){return Object(l.jsx)("header",{className:"header",children:Object(l.jsx)("h2",{className:"h2",children:"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0430\u0446\u0438\u044f \u0432\u0430\u043b\u044e\u0442"})})},d=n(45),p=n(6),b=(n(41),function(e){e.currentUsd,e.totalUsd;var r=e.sumTotalUsd,n=e.sumUsd,t=e.userCurrency;return Object(l.jsxs)("div",{className:"currency-list",children:[Object(l.jsx)("div",{className:"form",children:Object(l.jsxs)(d.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(l.jsxs)(d.a.Label,{children:[t," in RUB"]}),Object(l.jsx)(d.a.Control,{onChange:function(e){var n=e.target.value;return r(n)},type:"number",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})}),Object(l.jsx)("p",{className:"result-block",children:"\u0418\u0442\u043e\u0433\u043e:"}),Object(l.jsx)("p",{className:"result-field",children:n})]})}),O=function(e){Object(i.a)(n,e);var r=Object(o.a)(n);function n(){return Object(u.a)(this,n),r.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,r=e.sumTotalUsd,n=e.sumUsd,t=e.userCurrency;return Object(l.jsx)(b,{sumUsd:n,sumTotalUsd:r,userCurrency:t})}}]),n}(t.Component),h=Object(p.b)((function(e){var r=e.currentCurrencies,n=r.currentUsd,t=r.currentRUB,c=r.totalUsd,s=r.userCurrency,u=r.currentEURO,a=0;switch(s){case"USD":a=(n*c).toFixed(2);break;case"EURO":a=(u*c).toFixed(2);break;case"RUB":a=(t*c).toFixed(2);break;default:a=0}return console.log(a),{sumUsd:a,userCurrency:s}}),(function(e,r){return{sumTotalUsd:function(r){return e(function(e){return{type:"SUM_TOTAL",payload:e}}(r))}}}))(O),f=function(){return Object(l.jsx)(t.Fragment,{children:Object(l.jsx)(h,{})})},y=(n(42),Object(p.b)((function(e){var r=e.currentCurrencies;return{currentUsd:r.currentUsd,currentEURO:r.currentEURO}}))((function(e){var r=e.currentUsd,n=e.currentEURO;return Object(l.jsxs)(t.Fragment,{children:[Object(l.jsx)("h3",{className:"pages pages__h3",children:"\u0410\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u043a\u0443\u0440\u0441\u044b \u0432\u0430\u043b\u044e\u0442:"}),Object(l.jsxs)("div",{className:"pages__currency-window",children:[Object(l.jsx)("p",{className:"pages__currency-window_p",children:"USD:"}),Object(l.jsx)("p",{className:"pages__currency-window_p",children:r})]}),Object(l.jsxs)("div",{className:"pages__currency-window",children:[Object(l.jsx)("p",{className:"pages__currency-window_p",children:"EURO:"}),Object(l.jsx)("p",{className:"pages__currency-window_p",children:n})]})]})}))),C=function(e){var r=e.userChangeCurrency;return Object(l.jsxs)("div",{className:"currency-list currency-list-user",children:[Object(l.jsx)("p",{className:"currency-list-_p",children:"\u0412\u0430\u0448\u0430 \u0432\u0430\u043b\u044e\u0442\u0430:"}),Object(l.jsxs)(d.a.Select,{onChange:function(e){var n=e.target.value;return r(n)},"aria-label":"Default select example",children:[Object(l.jsx)("option",{value:"USD",children:"USD"}),Object(l.jsx)("option",{value:"EURO",children:"EURO"}),Object(l.jsx)("option",{value:"RUB",children:"RUB"})]})]})},x=function(e){Object(i.a)(n,e);var r=Object(o.a)(n);function n(){return Object(u.a)(this,n),r.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props.userChangeCurrency;return Object(l.jsx)(C,{userChangeCurrency:e})}}]),n}(t.Component),U=Object(p.b)((function(e){return{userChangeCurrency:e.userChangeCurrency}}),(function(e,r){return{userChangeCurrency:function(r){return e(function(e){return{type:"CHANGE_CURRENCY",payload:e}}(r))}}}))(x),m=n(15),v=n.n(m),g=n(22),w=function(){function e(){var r=this;Object(u.a)(this,e),this.apiBase="https://www.cbr-xml-daily.ru/daily_json.js",this.getCurrencies=Object(g.a)(v.a.mark((function e(){var n,t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getCurrency();case 2:return n=e.sent,t={usd:n.Valute.USD.Value,euro:n.Valute.EUR.Value},e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))}return Object(a.a)(e,[{key:"getCurrency",value:function(){var e=Object(g.a)(v.a.mark((function e(r){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.apiBase);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(this.apiBase)+" , received ".concat(n.status));case 5:return e.abrupt("return",n.json());case 6:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()}]),e}(),_=w,R=n(3),N=function(e){Object(i.a)(n,e);var r=Object(o.a)(n);function n(){var e;Object(u.a)(this,n);for(var t=arguments.length,c=new Array(t),s=0;s<t;s++)c[s]=arguments[s];return(e=r.call.apply(r,[this].concat(c))).currencyService=new _,e.loadingCurrentCurrency=function(){e.currencyService.getCurrencies().then(e.props.onLoadCurrentCurrency).catch()},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.loadingCurrentCurrency()}},{key:"render",value:function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(j,{}),Object(l.jsx)(U,{}),Object(l.jsxs)(R.c,{children:[Object(l.jsx)(R.a,{path:"/spa-app-currency-conversion/",element:Object(l.jsx)(f,{})}),Object(l.jsx)(R.a,{path:"/",element:Object(l.jsx)(f,{})}),Object(l.jsx)(R.a,{path:"/current-exchange-rate/",element:Object(l.jsx)(y,{})})]})]})}}]),n}(t.Component),E=Object(p.b)((function(e){return e}),(function(e,r){return{onLoadCurrentCurrency:function(r){return e(function(e){return{type:"UPDATE_CURRENCY",payload:e}}(r))}}}))(N),k=n(27),B=n(2),S=function(e,r){if(void 0===e)return{currentUsd:"70",totalUsd:"0",sumUsd:"0",currentEURO:"90",currentRUB:"1",userCurrency:"USD"};switch(r.type){case"SUM_TOTAL":return Object(B.a)(Object(B.a)({},e.currentCurrencies),{},{totalUsd:r.payload});case"CHANGE_CURRENCY":return Object(B.a)(Object(B.a)({},e.currentCurrencies),{},{userCurrency:r.payload});case"UPDATE_CURRENCY":var n=r.payload,t=n.usd,c=n.euro;return Object(B.a)(Object(B.a)({},e.currentCurrencies),{},{currentUsd:t,currentEURO:c});default:return e.currentCurrencies}},D=function(e,r){return{currentCurrencies:S(e,r)}},T=n(26),A=Object(T.a)(D);s.a.render(Object(l.jsx)(p.a,{store:A,children:Object(l.jsx)(k.a,{children:Object(l.jsx)(E,{})})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.cb227b57.chunk.js.map